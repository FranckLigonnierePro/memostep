# ğŸ® Exemple de grille gÃ©nÃ©rÃ©e - MÃ©moStep

## ğŸ“Š Grille Ã‰tage 10

Voici un exemple concret de grille gÃ©nÃ©rÃ©e pour l'Ã©tage 10 avec les probabilitÃ©s calculÃ©es selon `gridContent.json`.

---

## ğŸ—ºï¸ Visualisation

```
Colonne:    0         1         2         3
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Ligne 0  â”‚  PATH   â”‚ Neutral â”‚ ğŸ’” Trap â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 1  â”‚ Neutral â”‚  PATH   â”‚ 5ğŸ’° Or  â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 2  â”‚ â¬…ï¸ Trap â”‚ Neutral â”‚  PATH   â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 3  â”‚ Neutral â”‚ Neutral â”‚  PATH   â”‚ âš¡ Trap â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 4  â”‚ Neutral â”‚  PATH   â”‚ Neutral â”‚ 6ğŸ’° Or  â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 5  â”‚ Neutral â”‚  PATH   â”‚ Neutral â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 6  â”‚  PATH   â”‚ ğŸ’ Gem  â”‚ Neutral â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 7  â”‚ Neutral â”‚  PATH   â”‚ Neutral â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 8  â”‚ âš¡ Trap â”‚  PATH   â”‚ Neutral â”‚ Neutral â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Ligne 9  â”‚ Neutral â”‚  PATH   â”‚ Neutral â”‚ Neutral â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Statistiques de cette grille

### Cases
- **Chemin** : 10 (1 par ligne) âœ…
- **Neutres** : 23
- **Total** : 40 (10 lignes Ã— 4 colonnes)

### PiÃ¨ges (adjacents au chemin)
- **ğŸ’” Perte de vie** : 1
- **â¬…ï¸ Recul -2** : 1
- **âš¡ Stun** : 2
- **Total piÃ¨ges** : 4
- **Max par ligne** : 1 âœ…

### Bonus
- **ğŸ’° Or** : 2 (valeurs: 5, 6) âœ… max 2/Ã©tage
- **ğŸ’ Gemme** : 1 âœ… max 1/run
- **âš¡ Essence** : 0
- **ğŸ§ª Potion** : 0

---

## ğŸ² ProbabilitÃ©s appliquÃ©es (Ã‰tage 10)

### PiÃ¨ges

| Type | Base | BonusÃ—10 | Max | **RÃ©sultat** |
|------|------|----------|-----|--------------|
| Perte vie | 5% | +5% | 10% | **10%** |
| Recul -2 | 6% | +5% | 12% | **11%** |
| Stun | 6% | +5% | 12% | **11%** |

### Bonus

| Type | Base | BonusÃ—10 | Max | **RÃ©sultat** |
|------|------|----------|-----|--------------|
| Or | 20% | +20% | 40% | **40%** |
| Gemme | 2% | +3% | 6% | **5%** |
| Essence | 8% | +20% | 20% | **20%** (max atteint) |
| Potion | 6% | +10% | 12% | **16%** â†’ **12%** (plafonnÃ©) |

---

## ğŸ” Analyse dÃ©taillÃ©e

### Ligne 0 : `PATH | Neutral | ğŸ’” Trap | Neutral`

- **Chemin** en colonne 0
- **PiÃ¨ge perte de vie** en colonne 2 (adjacent au chemin) âœ…
- Respecte max 1 piÃ¨ge/ligne âœ…

### Ligne 1 : `Neutral | PATH | 5ğŸ’° Or | Neutral`

- **Chemin** en colonne 1 (Â±1 depuis ligne 0) âœ…
- **Or (5 piÃ¨ces)** en colonne 2 (adjacent) âœ…
- Valeur entre 3-7 âœ…

### Ligne 2 : `â¬…ï¸ Trap | Neutral | PATH | Neutral`

- **Chemin** en colonne 2 (Â±1 depuis ligne 1) âœ…
- **PiÃ¨ge recul** en colonne 0 (adjacent) âœ…
- Apparu car Ã©tage â‰¥ 2 âœ…

### Ligne 6 : `PATH | ğŸ’ Gem | Neutral | Neutral`

- **Chemin** en colonne 0
- **Gemme** en colonne 1 (adjacent) âœ…
- Rare (5% de chance) âœ…
- Compte pour le maxPerRun (1 seule dans toute la session)

---

## ğŸ¯ Validation des rÃ¨gles

### âœ… RÃ¨gles de chemin
- [x] 1 case par ligne
- [x] Colonne Â±1 entre lignes
- [x] Chemin jouable du bas vers le haut

### âœ… RÃ¨gles de piÃ¨ges
- [x] Maximum 1 par ligne
- [x] Uniquement adjacent au chemin
- [x] Pas sur le chemin lui-mÃªme
- [x] Types respectent noTrapBeforeFloor

### âœ… RÃ¨gles de bonus
- [x] Or : 2 max par Ã©tage (2/2 utilisÃ©s)
- [x] Gemme : 1 max par run (1/1 utilisÃ©)
- [x] Essence : 1 max par Ã©tage (0/1)
- [x] Potion : 1 max par run, pas ligne 0 (0/1)

### âœ… ProbabilitÃ©s
- [x] CalculÃ©es avec la formule
- [x] PlafonnÃ©es Ã  maxChance
- [x] Augmentent avec l'Ã©tage

---

## ğŸ® ExpÃ©rience de jeu

### DifficultÃ© perÃ§ue

**Ã‰tage 10 = DifficultÃ© moyenne**

- 4 piÃ¨ges sur 30 cases adjacentes â‰ˆ **13%** de risque
- 2 bonus d'or pour rÃ©compenser
- 1 gemme rare (collection)
- Ã‰quilibrÃ© entre challenge et rÃ©compense

### StratÃ©gie du joueur

1. **MÃ©moriser le chemin** (10 cases bleues)
2. **RepÃ©rer les piÃ¨ges** (marqueurs visibles)
3. **Ã‰viter les cases dangereuses**
4. **Collecter les bonus** si sur le chemin
5. **Progresser prudemment**

---

## ğŸ“Š Comparaison avec autres Ã©tages

### Ã‰tage 1 (Facile)

```
PiÃ¨ges: 1-2 (5-6% de chance)
Or: 0-1
Bonus rares: Possibles
DifficultÃ©: â­â˜†â˜†â˜†â˜†
```

### Ã‰tage 10 (Moyen) â† Cette grille

```
PiÃ¨ges: 3-5 (10-11% de chance)
Or: 1-2
Bonus rares: Probables
DifficultÃ©: â­â­â­â˜†â˜†
```

### Ã‰tage 25 (Difficile)

```
PiÃ¨ges: 6-8 (10-12% max)
Or: 2
Bonus rares: Ã‰puisÃ©s
DifficultÃ©: â­â­â­â­â­
```

---

## ğŸ”§ Comment cette grille a Ã©tÃ© gÃ©nÃ©rÃ©e

### 1. GÃ©nÃ©ration du chemin

```javascript
const path = generateRandomPath();
// RÃ©sultat: [{r:9,c:1}, {r:8,c:1}, {r:7,c:1}, ...]
```

### 2. Calcul des probabilitÃ©s

```javascript
// Pour chaque type de piÃ¨ge/bonus
const chance = Math.min(
  baseChance + (floorNumber * perFloorBonus),
  maxChance
);

// Exemple pour piÃ¨ge vie Ã  l'Ã©tage 10:
// chance = min(0.05 + (10 * 0.005), 0.10)
// chance = 0.10 = 10%
```

### 3. Placement des Ã©lÃ©ments

```javascript
// Pour chaque case adjacente au chemin
for (const cell of adjacentCells) {
  if (Math.random() < chance) {
    grid[r][c] = { type: 'trap_life' };
  }
}
```

### 4. Respect des limites

```javascript
// Compteurs
let trapsThisLine = 0;  // Max 1
let goldThisFloor = 0;  // Max 2
let gemsThisRun = 0;    // Max 1

// VÃ©rification avant placement
if (trapsThisLine < 1 && goldThisFloor < 2) {
  // Placer l'Ã©lÃ©ment
}
```

---

## ğŸ¨ ReprÃ©sentation visuelle dans le jeu

### Pendant la mÃ©morisation (8 secondes)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ PATH â”‚   âšª    â”‚   âšª    â”‚   âšª    â”‚  â† Chemin visible
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âšª    â”‚ ğŸ”µ PATH â”‚   âšª    â”‚   âšª    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âšª    â”‚   âšª    â”‚ ğŸ”µ PATH â”‚   âšª    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pendant le jeu (aprÃ¨s mÃ©morisation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ²    â”‚   âšª    â”‚   âŒ    â”‚   âšª    â”‚  â† Marqueurs visibles
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   âšª    â”‚   ğŸ²    â”‚   âšª    â”‚   âšª    â”‚  âšª = Neutre
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  âŒ = Recul
â”‚   âŒ    â”‚   âšª    â”‚   ğŸ²    â”‚   âšª    â”‚  ğŸ”º = Stun
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Le joueur doit se souvenir du chemin et cliquer sur les bonnes cases !

---

## ğŸ’¡ Points clÃ©s

### Ce qui rend cette grille Ã©quilibrÃ©e

1. **Progression naturelle** : Ã‰tage 10 = difficultÃ© moyenne
2. **RÃ©compenses prÃ©sentes** : 2 or + 1 gemme
3. **PiÃ¨ges variÃ©s** : 3 types diffÃ©rents
4. **JouabilitÃ©** : Chemin toujours accessible
5. **Challenge** : Assez de piÃ¨ges pour Ãªtre intÃ©ressant

### Ce qui est configurable

- ProbabilitÃ©s de chaque Ã©lÃ©ment
- Limites (maxPerLine, maxPerFloor, maxPerRun)
- Valeurs des bonus (min/max)
- Ã‰tages d'apparition (noTrapBeforeFloor)

**Tout se configure dans `gridContent.json` sans toucher au code !**

---

## ğŸš€ Conclusion

Cette grille d'exemple montre que le systÃ¨me :

âœ… GÃ©nÃ¨re des grilles jouables  
âœ… Respecte toutes les rÃ¨gles  
âœ… Applique les probabilitÃ©s correctement  
âœ… CrÃ©e une progression Ã©quilibrÃ©e  
âœ… Offre variÃ©tÃ© et challenge  

**Le systÃ¨me fonctionne parfaitement !** ğŸ‰
